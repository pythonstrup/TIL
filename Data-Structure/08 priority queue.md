# 08 우선순위 큐 Priority Queue

## 출처

- C언어로 쉽게 풀어쓴 자료구조(천인국, 공용해, 하상호 저)

<br/>

<hr/>

## 목차

1. [우선순위 큐의 개념](#1-트리의-개념) <br/>
   &nbsp; 1-1. [우선순위 큐란](#1-1-우선순위-큐란) <br/>
   &nbsp; 1-2. [우선순위 큐의 기능](#1-2-우선순위-큐의-기능) <br/>
   &nbsp; 1-2. [우선순위 큐의 표현방법](#1-3-우선순위-큐의-표현방법) <br/>

<br/>

2. [히프](#2-히프) <br/>
   &nbsp; 2-1. [히프란?](#2-1-히프란) <br/>
   &nbsp; 2-2. [배열을 이용한 구현](#2-2-배열을-이용한-구현) <br/>
   &nbsp; 2-3. [히프를 통한 구현](#2-3-히프를-통한-구현) <br/>

<br/>

3. [우선순위 큐 응용](#3-우선순위-큐-응용) <br/>
   &nbsp; 3-1. [히프 정렬](#3-1-히프-정렬) <br/>
   &nbsp; 3-2. [머신 스케줄링](#3-2-머신-스케줄링) <br/>
   &nbsp; 3-3. [허프만 코드](#3-3-허프만-코드) <br/>

<br/><br/>

<hr/>

## 1. 트리의 개념

<br/>

<hr/>

### 1-1. 우선순위 큐란?

<br/>

**우선순위 큐(Priority Queue)**는 우선순위를 가진 항목들을 저장하는 큐로 FIFO(First In First Out) 순서가 이닌 순위가 높은 데이터가 먼저나가는 자료구조를 말한다.

<br/>

- 스택 큐, 우선순위 큐 비교

|자료구조|우선 삭제되는 요소|
|:----:|:----:|
|스택|가장 최근에 들어온 데이터|
|큐|가장 먼저 들어온 데이터|
|우선순위 큐|가장 우선순위가 높은 데이터|

<br/>

우선순위 큐는 시뮬레이션 시스템, 네트워크의 트래픽 제어, 운영체제 작업스케줄링 등에 사용된다.

<br/>

<hr/>

### 1-2. 우선순위 큐의 기능

<br/>

우선 순위 큐의 추상 자료형(ADT)를 살펴보자.

```
·객체: n개의 element형의 우선 순위를 가진 요소들의 모임

·연산: 
▪ create() ::= 우선순위큐를 생성한다.
▪ init(q) ::= 우선순위큐 q를 초기화한다.
▪ is_empty(q) ::= 우선순위큐 q가 비어있는지를 검사한다. 
▪ is_full(q) ::= 우선순위큐 q가 가득 찼는가를 검사한다.
▪ insert(q, x) ::= 우선순위큐 q에 요소 x를 추가한다.
▪ delete(q) ::= 우선순위큐로부터 가장 우선순위가 높은 요소를 삭제하고 이 요소를 반환한다.
▪ find(q) ::= 우선순위가 가장 높은 요소를 반환한다.
```

<br/>

위 기능 중에서 가장 중요한 연산은 insert(삽입) 연산과 delete(삭제) 연산이다. 삽입, 삭제의 우선순위를 어떻게 정하느냐에 따라 **최소 우선순위 큐**와 **최대 우선순위 큐**로 분류를 나눌 수 있다.

<br/><br/>

<hr/>

### 1-3. 우선순위 큐의 표현방법

<br/>

우선순위 큐를 구현하는 방법은 아래와 같다.

1. 배열을 이용한 우선순위 큐
2. 연결리스트를 이용한 우선순위 큐
3. 히프(heap)를 이용한 우선수위 큐

<br/>

- 시간복잡도 비교

|표현방법|삽 입|삭 제|
|:--:|:--:|:--:|
|&nbsp; 순서없는 배열 &nbsp;|&nbsp; O(1) &nbsp;|&nbsp; O(n) &nbsp;|
|&nbsp; 순서없는 연결 리스트 &nbsp;|&nbsp; O(1) &nbsp;|&nbsp; O(n) &nbsp;|
|&nbsp; 정렬된 배열 &nbsp;|&nbsp; O(n) &nbsp;|&nbsp; O(1) &nbsp;|
|&nbsp; 정렬된 연결 리스트 &nbsp;|&nbsp; O(n) &nbsp;|&nbsp; O(1) &nbsp;|
|&nbsp; 히프 &nbsp;|&nbsp; O($log_2{n}$) &nbsp;|&nbsp; O($log_2{n}$) &nbsp;|

시간 복잡도에서 히프가 유리하다는 것을 알 수 있다.

<br/>

<hr/>

## 2. 히프

<br/>

<hr/>

### 2-1. 히프란?

<br/>

히프(heap)는 뭔가가 쌓여있는 '더미' 모습과 비슷하며 붙여진 이름으로, **완전이진트리**를 기반으로 하고 있다. 기본적으로 노드의 키들은 아래의 식을 만족한다.(최대 히프)

$$ 부모노드의\; key\quad\geqq\quad  자식노드의 key\; $$

<br/>

또한 히프트리는 중복된 값을 허용할 수 있다. 히프는 우선순위 큐와 마찬가지로 우선순위의 기준에 따라 종류가 나뉜다.
- 최대 히프(max heap): $ 부모노드의\; key\quad\geqq\quad  자식노드의 key\; $ 
- 최소 히프(min heap): $ 부모노드의\; key\quad\geqq\quad  자식노드의 key\; $

<br/>

n 개의 노드를 가지고 있는 히프의 높이 h는 $log_2{n}$ 과 같다

<img src="img/heap_height.jpg">

<br/>

```
cf) 주의사항!! 자료구조 Heap과 메모리 영역인 Heap은 완전히 다른 개념이다!!
```

<br/>

<hr/>

### 2-2. 배열을 이용한 구현

<br/>

히프는 완전이진트리이므로 각 노드에 번호를 붙일 수 있다. 이 번호를 배열의 인덱스라고 생각하고 구현을 하면 된다.

<img src="img/heap.jpg">

<br/><br/>

<hr/>

## 3. 우선순위 큐 응용

<br/>

<hr/>

### 3-1. 히프 정렬

<br/>

<hr/>

### 3-2. 머신 스케줄링

<br/>

<hr/>

### 3-3. 허프만 코드

<br/><br/>

<hr/>