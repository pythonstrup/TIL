# 01 코틀린이란?

- '더 나은 자바'라는 슬로건으로 시작
- 현대적 언어 설계 패러다임 포용.

## 특징

- 클래스 본문을 지정하지 않고도 프로퍼티가 포함된 `Person`이라는 데이터 클래스 정의
- `val` 키워드를 사용해 읽기 전용 프로퍼티 선언
- 인자의 기본값을 제공할 수 있다.
- `null`을 명시적으로 다룰 수 있음 (`?`)
- 클래스 안에 포함될 필요가 없는 최상위 함수를 정의할 수 있다. (자바에서는 무조건 내부 클래스만 선언 가능)
- 함수나 생성자를 호출할 때 파라미터 이름으로 인자를 지정할 수 있다.
- `트레일링 콤마 trailing comma`
- 람다식을 사용한 컬렉션 연산
- 엘비스 연산자(`?:`)를 사용해 `null` 처리
- 문자열 템플릿을 통해 문자열 연결 가능
- 데이터 클래스를 위해 컴파일러가 자동으로 `toString`과 같은 함수를 사용.

```kotlin
data class Person(
    val name: String,
    val age: Int? = null
)
```

## 주요 특징

- 코틀린은 다중 패러다임 언어
  - 객체지향과 함수형의 아이디어 조합
- `정적 타입 지정 statically typed` 언어
  - 실행 시점이 아니라 컴파일 시점에 오류를 잡아내는 것이 가능

### 정적 타입 지정 -> 성능, 신뢰성 유지 보수성

- 게다가 IDE의 강력한 추천 기능 사용 가능
- 타입을 명시하지 않아도 타입을 자동으로 결정하는 `타입 추론 type inference` 기능이 있다.
  - 자바에도 `var` 키워드가 있긴 하다.
- 가장 중요한 특성은 `널이 될수 있는 타입 Nullable type`을 지원한다는 점이다.

### 함수형과 객체지향의 조합

- 함수형 핵심 개념
  - 일급 시민 함수
  - 불변성
  - 순수 함수(부수 효과가 없다.)
- 함수형으로 얻은 것
  - 코드 중복 제거. 간결한 문법
  - 불변 데이터 구조를 바탕으로 한 완전한 동시성. (다중 스레드)
  - 테스트 용이성
- 코틀린 표준 라이브러리에서 제공하는 여러 함수 제공: `filter`, `map`, `sortedBy`
  - 람다식과 멤버 참조를 제공

### 동시성, 비동기 코드

- `코루틴 Coroutine`
  - `일시 중단 가능한 계산 suspendable computation`
  - Non-Blocking을 통한 I/O Bounded 작업 처리 효율성
  - `async`와 `await` 키워드
- 코루틴은 가벼운 추상화를 통해 큰 성능 손해를 보지 않는다.

---

## 코틀린의 철학

- 실용성
- 간결성 (연산자 커스텀 구현) -> 생산성으로 연결
- 안전성 (JVM의 메모리 안전성, Nullable 타입, 스마트 캐스트)
- 상호운용성: 자바 라이브러리 그대로 사용 가능

---

## 코틀린 도구

### 코틀린/JVM에서의 컴파일 과정

1. `.kt` 확장자 파일을 분석해 `.class` 파일을 생성 (`kotlinc` 코틀린 컴파일)
2. java 명령어로 실행

```bash
$ kotlinc <소스파일 혹은 디렉토리> -include-runtime -d <jar 이름> # 컴파일
$ java -jar <jar 이름>                                      # 실행
```

> #### `코틀린 런타임 라이브러리 Kotlin runtime library`
> - 코틀린 내장 클래스와 API는 의존관계로 코틀린 런타임 라이브러리라는 추가 정보가 필요하다. 
> - 커맨드라인에서 코드를 컴파일할 때 명시적으로 `-include-runtime`을 호출해서 결과로 생기는 JAR 파일 안에 런타임 라이브러리를 포함시켜야 한다.

- `코틀린 표준 라이브러리 kotlin standard library`도 애플리케이션의 의존관계로 필요하다.
  - 이론적으로 없이도 코드를 작성할 수 있지만, 코틀린이 제공하는 다양한 기능을 사용하지 못하게 된다.

